#set($bannerlist = $context.getRequestParameter("bannerlist"))

<div id="homepage-offers" class="draft1" style="position: relative; width: 700px; height: 322px;">
	<div class="cycle-slideshow" data-cycle-fx="fade" data-cycle-timeout="8000" data-cycle-speed="1500" data-cycle-sync="true" data-cycle-pager-template="<img src='$apphome/layout/images/banner/white.png' width='18' >">
    	<div class="cycle-pager"></div>
    	<img src="/$applicationid/layout/images/banner/rogers-supplier-banner.jpg" class="offers" onclick="bannerclicked('','_self');"/>
		#if($bannerlist.size() > 0)
			#if($bannerlist.size() >= 2)
				#set($size = $bannerlist.size())
				#set($size = $size - 1)
				#foreach($i in [0..$size])
					#set($first  = $bannerlist.get($i))
					#set($o = $bannersearcher.searchById($first.getId()))
					#set($startdate = $DateStorageUtil.parseFromStorage($i.get("startdate")))
					#set($enddate = $DateStorageUtil.parseFromStorage($i.get("enddate")))
					#set($asset = $mediaarchive.getAsset($first.image))
					#set($orig = $mediaarchive.asLinkToOriginal($asset))
					#set($newwindow = $first.get("newwindow"))
					#if($newwindow == "true")
						#set($target = "_blank")
					#else
						#set($target = "_self")
					#end
					<img src="$orig" class="offers" onclick="bannerclicked('$!first.url','$target');" />
				#end 
			#else
				#set($first  = $bannerlist.get(0))
				#set($asset = $mediaarchive.getAsset($first.image))
				#set($orig = $mediaarchive.asLinkToOriginal($asset))
				#set($newwindow = $first.get("newwindow"))
				#if($newwindow == "true")
					#set($target = "_blank")
				#else
					#set($target = "_self")
				#end
				<img src="$orig" class="offers" onclick="bannerclicked('$!first.url','$target');" />
			#end
		#end
	</div>
</div>
<div style="clear: left;">&nbsp;</div>

<script>
function bannerclicked(url,arg){
	if ( (!url || 0 === url.length) == false){
		window.open(url,arg,"","");
	}
}
</script>
<style>
.cycle-pager { 
    text-align: center; 
    width: 100%; 
    z-index: 500; 
    position: absolute; 
    bottom: -30px;
    overflow: hidden;
}
.cycle-pager span { 
    font-family: arial; 
    font-size: 50px; 
    width: 16px; 
    height: 16px; 
    display: inline-block; 
    color: #fff;
    cursor: pointer; 
}
.cycle-pager-active {
	background-image:url("$apphome/layout/images/banner/black.png");
	background-size:18px 18px;
	background-repeat:no-repeat;
}
.cycle-pager > * { 
	cursor: pointer;
}
</style>
